<!DOCTYPE html>
<html lang="en">
  <head>
    <title>FairTaskAssigner v0.1</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script>
    $(function() {
        $('#btnRegisterJob').click(function() {

            $.ajax({
                url: '/registerJob',
                data: $('form').serialize(),
                type: 'POST',
                success: function(response) {
                    console.log(response);
                },
                error: function(error) {
                    console.log(error);
                }
            });
        });
    });
    </script>
  </head>

  <body>
    <div class="container">
      <div class="header">
          <nav>
              <ul class="nav nav-pills pull-right">
                  <li role="presentation" ><a href="main">Home</a>
                  </li>
                  <li role="presentation" class="active"><a href="addJobs">Add Task</a>
                  </li>
                  <li role="presentation"><a href="showSignUp">Sign Up Buddy</a>
                  </li>
                  <li role="presentation"><a href="login">Current user {{ loggedUsernameEmail[0] }} / <b>{{loggedUsernameEmail[1]}}</b> </a>
                  </li>

              </ul>
          </nav>
          <h3 class="text-muted">Python FairTaskAssigner v0.1</h3>
      </div>

      <div class="jumbotron">
        <h1>Coffee Bucket List Task: </h1>
        <form class="form-signin">
          <label for="inputName" class="sr-only">Name</label>
          <select type="name" name="inputName" id="inputName" class="form-control" placeholder="To whom (name)" required autofocus>
            <option value=-1>"To whom (name)"</option>
            {% for username in users %}
              <option value={{username[0]}}>{{username[2]}} ({{username[1]}})</option>
            {% endfor %}
          </select>
          <br>
          <label for="inputProduct" class="sr-only">Product</label>
          <select type="name" name="inputProduct" id="inputProduct" class="form-control" placeholder="To whom (name)" required autofocus>
            <option value=-1>"What to buy (product)"</option>
            {% for product in products %}
              <option value={{product[0]}}>{{product[1]}} ({{product[2]}} CHF)</option>
            {% endfor %}
          </select>
        <br><br><br>
        <button id="btnRegisterJob" class="btn btn-lg btn-primary btn-block" type="button">Register</button>
        </form>
      </div>

      <div class="row marketing">
          <div class="col-lg-6 alert alert-primary" role="alert">
              <h4>Orders within last {{hours}} hours:</h4>
              <div class="table-responsive">
                  <table class="table">
                      <thead>
                          <tr>
                              <th scope="col">When</th>
                              <th scope="col">Name</th>
                              <th scope="col">To whom </th>
                              <th scope="col">Type </th>
                          </tr>
                      </thead>
                      <tbody>
                      {% for lastEntry in todaysJobs %}
                          <tr >
                              <th scope="row">{{ lastEntry[0] }}</th>
                              <td> {{lastEntry[1] }} </td>
                              <td> {{ lastEntry[2] }} </td>
                              <td> {{ lastEntry[3] }} </td>
                          </tr>
                      {% endfor %}
                      </tbody>
                  </table>
              </div>
          </div>
      </div>

      <footer class="footer">
        <p>&copy; Company 2019</p>
      </footer>

    </div>
  </body>
</html>
