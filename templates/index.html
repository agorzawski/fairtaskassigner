<!DOCTYPE html>
<html lang="en">
<head>
    {% include 'common_head.html' %}
</head>
<body>
    <div class="container">
        <div class="header">
            <nav>
                <ul class="nav nav-pills pull-right">
                    <li role="presentation" class="active"><a href="#">Home</a>
                    </li>
                    <li role="presentation"><a href="addJobs">Add Task</a>
                    </li>
                    <li role="presentation"><a href="showSignUp">Sign Up Buddy</a>
                    </li>
                    {% if not googleSession %}
                     {% include 'no_login.html' %}
                    {% else %}
                     {% include 'google_login.html' %}
                    {% endif %}
                </ul>
            </nav>
            {% include 'common_title.html' %}
        </div>

        <div class="jumbotron">
            <h1>Coffee Bucket List App</h1>
            <hr class="my-3">
            <div class="col-lg-6">
              <h4>  Three next candidates (all population): </h4>
              <div class="table-responsive alert alert-danger" role="alert">
                  <table class="table">
                      <thead>
                          <tr>
                              <th scope="col">Name</th>
                              <th scope="col">Actual rating</th>
                          </tr>
                      </thead>
                      <tbody>
                      {% for topper in candidates %}
                          <tr>
                              <th scope="row">{{ topper[0] }}</th>
                              <td> {{'%0.1f'| format(topper[1]|float)}}</td>
                          </tr>
                      {% endfor %}
                      </tbody>
                  </table>
              </div>
            </div>

            <div class="col-lg-6">
              <h4> Top three servants: </h4>
              <div class="table-responsive alert alert-dark" role="alert">
                  <table class="table">
                      <thead>
                          <tr>
                              <th scope="col">Name</th>
                              <th scope="col">Jobs served</th>
                              <th scope="col">Total spent [CHF]</th>
                              <th scope="col">Actual rating</th>
                          </tr>
                      </thead>
                      <tbody>
                      {% for topper in top3 %}
                          <tr id={{ topper[0] }}>
                              <th scope="row">{{ topper[0] }}</th>
                              <td> {{'%0.0f'| format(topper[1]|float)}} </td>
                              <td> {{'%0.1f'| format(topper[2]|float)}} </td>
                              <td> {{'%0.1f'| format(topper[3]|float)}}</td>
                          </tr>
                      {% endfor %}
                      </tbody>
                  </table>
              </div>
            </div>

            <hr class="my-4">
            <p class="lead"></p>
            <p><a class="btn btn-lg btn-success" href="addJobs" role="button">Prepare Task</a>
            </p>
        </div>


        <div class="row marketing">
            <div class="col-lg-6">
                <h4> All time (last 50 servings) </h4>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">When</th>
                                <th scope="col">Name</th>
                                <th scope="col">To whom </th>
                                <th scope="col">Type </th>
                            </tr>
                        </thead>
                        <tbody>
                        {% for lastEntry in summaryJobs %}
                            <tr >
                                <th scope="row">{{ lastEntry[0] }}</th>
                                <td> {{ lastEntry[1] }} </td>
                                <td> {{ lastEntry[2] }} </td>
                                <td> {{ lastEntry[3] }} </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <footer class="footer">
        {% include 'footer.html' %}
        </footer>

    </div>
</body>
</html>
